\clearpage
\section{Experiment}
\label{sec:experiment}

To answer the question of how competitive sustainable modes of transport are in comparison to the traditional mode of travel by car, we run an experiment in the city of Cologne.
We do so by calculating the X-minute city metric for hexagons all over Cologne.

As we want to compare different modes of transport, we will calculate the metric multiple times for different scenarios, each with a different combination of modes of transport.

\subsection{Scenarios}
\label{subs:scenarios}

No matter, the mode of transport, we always allow for walking, for two reasons.
First, walking is the most accessible mode of transport, available to almost everyone and without any additional costs.
Second, most other modes of transport require walking at some point, be it to the next bus stop or to the next available bicycle.

The first scenario we consider is our baseline scenario, which only considers walking.
This scenario measures what is possible without any additional infrastructure. 
Distinct from other scenarios, it does not require any additional cost, thus presenting the most basic form of urban mobility.

Building on this, the second scenario we consider is the scenario of only walking. 
We consider this scenario as the benchmark scenario, as we hope to achieve similar (or even better) results with more sustainable modes of transport.
Therefore, we use it to answer the question of how competitive sustainable modes of transport are in comparison to the traditional mode of travel by car. 

Transitioning from the simplest form of mobility, the third scenario, focused on public transport, becomes essential to understand the effectiveness and accessibility of urban transit systems. 
This scenario evaluates how well-connected and time-efficient public transportation networks are, and their role in reducing reliance on personal vehicles. 
It also investigates the impact of public transport on urban mobility and its potential in contributing to a more sustainable urban environment. 
Specifically, it assesses whether public transport is a viable alternative to the personal car and whether it actually offers significant advantages over walking, considering the X-minute city metric.

Next, in the fourth scenario, we shift our focus to the dynamics of bicycle sharing systems. 
This scenario is important for assessing the feasibility and attractiveness of cycling as a primary mode of transportation in urban areas. 
We will directly compare it to the public transport scenario, to understand which sustainable mode of transport is superior.

Finally, the fifth scenario combines public transport and bicycle sharing, offering insights into the synergy between these two modes of transport. 
This integrated approach mirrors a growing trend in urban mobility solutions, where multi-modal transport options are increasingly favored. 
It underscores how this combination can bridge the gaps in accessibility and efficiency found when each mode is used independently. 
This scenario is expected to be the most competitive against cars, offering a comprehensive and sustainable urban transit model that could reshape the landscape of city mobility.

We summarize the scenarios in Table \ref{table:scenarios}.

\begin{table}[h]
\centering
\begin{tabular}{|c|p{5cm}|p{5cm}|}
\hline
\textbf{\#} & \textbf{Scenario} & \textbf{Key Points} \\
\hline
1 & Walking & Baseline scenario \\
\hline
2 & Personal Car & Benchmark scenario \\
\hline
3 & Public Transport & Evaluate the effectiveness public transport systems \\
\hline
4 & Bicycle Sharing & Evaluate the effectiveness of bicycle sharing systems \\
\hline
5 & Public Transport and Bicycle Sharing & Evaluate the effectiveness of sustainable multi-modal transport systems \\
\hline
\end{tabular}
\caption{Scenarios for Urban Mobility Analysis}
\label{table:scenarios}
\end{table}

\subsection{Data}
\label{subs:data}

To calculate the Pareto sets of the X-minute city metric for the different scenarios, we use four different datasets.
First, we require data that depicts the street network of the city of Cologne.
Second, we need to know the locations of the POIs, which we want to reach.
Third, we need to know the locations of the public transport stops, as well as, the schedules of the public transport.
For the bicycle sharing scenario, we also need to know the locations of the bicycles.
Lastly, we also use land use data to identify where residential areas are located, so that we can calculate the X-minute city metric only for these areas.

As we will query spatial datasets of various formats, from different sources, the area covered by the datasets will not be the same.
Therefore, we first define an area of interest and later trim the datasets to this area.
In our case, this area is defined as the area of the administrative district of Cologne, specifically the "Stadtkreis KÃ¶ln".
We retrieve the specific boundary of this area with the help of the Overpass API \shortcite{OverpassAPIOverpass}.
The specific query can be found in Appendix \ref{app:overpass_query}.

\subsubsection{Street Network \& POIs}
\label{subs:street_network_pois}

For the street network and the POIs, we use data from OpenStreetMap (OSM) \shortcite{OpenStreetMap}.
To use OSM data in practice various tools and services have been developed.
Among these we use, pyrosm \shortcite{Pyrosm} which is a Python library designed specifically for reading OSM data in different formats and conducting data processing operations.
Through pyrosm, we can automatically fetch data from sources like Geofabrik \cite{GeofabrikDownloadServer} and BBBike \cite{BBBikeExtractsOpenStreetMap}, which are two of the most popular OSM data providers.
In our case, we use the data for the city of Cologne from BBBike.
However, due to the flexibility of pyrosm, it is easily possible to use data from other sources as well and expand our analysis to other cities.

After retrieving the data, our tool automatically retrieves a graph representation of the street network trimmed to the area of interest plus a buffer of 5km.
This buffer is important, because without it calculating the X-minute city metric at the border of the area of interest would result in a higher value than the actual value.
As a last cleaning step, we remove all nodes, that are not part of the largest weakly connected component.
A weakly connected component is a subgraph in which, if all directed edges were treated as undirected, any two vertices from the subgraph would be connected.
Multiple weakly connected components in graphs derived from OSM data, mostly happen at the border of the considered area and can be neglected.

To retrieve the POIs, we use the Overpass API \shortcite{OverpassAPIOverpass}.
Our tool will automatically retrieve all POIs that fall into one of our predefined categories specified in Section \ref{subsec:metric} inside of the area of interest plus the buffer mentioned before.

\subsubsection{Public Transport}
\label{subs:public_transport}

To handle public transport data, we use the General Transit Feed Specification (GTFS) \shortcite{GTFS}.
To retrieve it we rely on the Mobility Database \shortcite{MobilityDatabase}.
This database serves as an open-source repository containing links to publicly available GTFS feeds globally, standing as the subsequent version of TransitFeeds \shortcite{OpenMobilityDataPublicTransit}.

Similarly to the OSM data, we trim the GTFS data to the area of interest plus the buffer.

The GTFS data is also cleaned and converted into a format that is more suitable for our algorithm, or more specifically McRAPTOR, which is part of our algorithm.

Specifically, there are two major incompatibilities between the GTFS specification and RAPTOR's notion of routes and trips.
Firstly, each trip belonging to a single route in RAPTOR visits the same stops in the same order.
It is not possible that a trip skips some stops that another trip of the same route visits, much less use a completely different sequence of routes.
In GTFS routes do allow that, as they are much more a group of trips that is presented to the rider under the same name or identifier.
Secondly, GTFS trips allow visiting the same stop multiple times, which is not allowed in RAPTOR.

To overcome these difference our tool splits up routes into smaller routes, that follow the same sequence of stops.
Additionally, it also removes circular trips, altogether.


\subsubsection{Bicycle Sharing}
\label{subs:bicycle_sharing}

Our bicycle sharing data was retrieved from the NextBike API over a time period of one year.
TODO: MORE INFORMATION TO BE ADDED HERE

The data consists of all trips that were made with the NextBike system in the city of Cologne from the 15th of January 2022 to the 31st of August 2023.
To get representative samples of the locations of all bicycles we employ the following strategy.

We first discretize the data spatially and temporally.
For the temporal discretization, we derive the location of each bicycle every hour.
For the spatial discretization, we use H3 hexagons with a resolution of 9.
The resulting data is the information how many bicycles were at each hexagon at each hour.
This data is then used as an input for k-medoids clustering \shortcite{rdusseeun1987clustering} with a k of 4.
K-medoids, also known as PAM (Partitioning Around Medoids) algorithm, is a clustering technique that partitions a dataset into K clusters, where each is assigned a medoid, that is the most centrally located object in a cluster. 
Unlike K-means, which uses mean values as cluster centers, K-medoids an actual data point as the center of a cluster.
This has the advantage that the centers are part of the dataset and therefore are realistic samples.
We use the resulting medoids as different configurations of the locations of the bicycles.

\subsubsection{Land Use}
\label{subs:land_use}

To identify the residential areas, we use the land use data from the CORINE Land Cover (CLC) project \shortcite{CORINELandCover}.
The data covers the whole of Europe and is publicly available, which again makes it possible to expand our analysis to other cities in Europe.
We trimmed the data to the area of interest and then filtered for the land use types "Continuous Urban Fabric" and "Discontinuous Urban Fabric".
These two land use types represent the residential areas of the city.


\subsection{Assumptions}
\label{subs:assumptions}


